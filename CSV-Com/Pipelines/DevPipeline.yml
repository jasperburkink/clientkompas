workflow:
  rules:
    - when: always

variables:
  SOLUTION: "CSV-Com/CSV-Com.sln"
  BUILD_PATH: "Debug"

  stages:
  - build
  - test

  before_script:
  - 'dotnet restore $BUILD_PATH' # dotnet build does also restore but a explicit restore is better when using gitlab for caching purposes

build-job:
  stage: build
  script:
    #Build
    - dotnet build $BUILD_PATH -c $BUILD_CONFIGURATION #dotnet build does also restore

test:
  stage: test
  script:
    - 'dotnet test $BUILD_PATH --configuration $BUILD_CONFIGURATION'